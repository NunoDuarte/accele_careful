% first 18 files don't matter ???
data{1} = csvread(['data/pair-2/8.csv'],1,0);
data{2} = csvread(['data/pair-2/9.csv'],1,0);
data{3} = csvread(['data/pair-2/10.csv'],1,0);
data{4} = csvread(['data/pair-2/11.csv'],1,0);
data{5} = csvread(['data/pair-2/12.csv'],1,0);
data{6} = csvread(['data/pair-2/13.csv'],1,0);
data{7} = csvread(['data/pair-2/14.csv'],1,0);
data{8} = csvread(['data/pair-2/15.csv'],1,0);
data{9} = csvread(['data/pair-2/16.csv'],1,0);
data{10} = csvread(['data/pair-2/17.csv'],1,0);
data{11} = csvread(['data/pair-2/18.csv'],1,0);
data{12} = csvread(['data/pair-2/19.csv'],1,0);
data{13} = csvread(['data/pair-2/20.csv'],1,0);
data{14} = csvread(['data/pair-2/21.csv'],1,0);
data{15} = csvread(['data/pair-2/22.csv'],1,0);
data{16} = csvread(['data/pair-2/23.csv'],1,0);
data{17} = csvread(['data/pair-2/24.csv'],1,0);
data{18} = csvread(['data/pair-2/25.csv'],1,0);
data{19} = csvread(['data/pair-2/26.csv'],1,0);
data{20} = csvread(['data/pair-2/27.csv'],1,0);
data{21} = csvread(['data/pair-2/28.csv'],1,0);
data{22} = csvread(['data/pair-2/29.csv'],1,0);
data{23} = csvread(['data/pair-2/30.csv'],1,0);
data{24} = csvread(['data/pair-2/31.csv'],1,0);
data{25} = csvread(['data/pair-2/32.csv'],1,0);
data{26} = csvread(['data/pair-2/33.csv'],1,0);
data{27} = csvread(['data/pair-2/34.csv'],1,0);
data{28} = csvread(['data/pair-2/35.csv'],1,0);
data{29} = csvread(['data/pair-2/36.csv'],1,0);
data{30} = csvread(['data/pair-2/37.csv'],1,0);
data{31} = csvread(['data/pair-2/38.csv'],1,0);
data{32} = csvread(['data/pair-2/39.csv'],1,0);
data{33} = csvread(['data/pair-2/40.csv'],1,0);
data{34} = csvread(['data/pair-2/41.csv'],1,0);
data{35} = csvread(['data/pair-2/42.csv'],1,0);
data{36} = csvread(['data/pair-2/43.csv'],1,0);
data{37} = csvread(['data/pair-2/44.csv'],1,0);
data{38} = csvread(['data/pair-2/45.csv'],1,0);
data{39} = csvread(['data/pair-2/46.csv'],1,0);
data{40} = csvread(['data/pair-2/47.csv'],1,0);
data{41} = csvread(['data/pair-2/48.csv'],1,0);
data{42} = csvread(['data/pair-2/49.csv'],1,0);
data{43} = csvread(['data/pair-2/50.csv'],1,0);
data{44} = csvread(['data/pair-2/51.csv'],1,0);
data{45} = csvread(['data/pair-2/52.csv'],1,0);
data{46} = csvread(['data/pair-2/53.csv'],1,0);
data{47} = csvread(['data/pair-2/54.csv'],1,0);
data{48} = csvread(['data/pair-2/55.csv'],1,0);
data{49} = csvread(['data/pair-2/56.csv'],1,0);
data{50} = csvread(['data/pair-2/57.csv'],1,0);
data{51} = csvread(['data/pair-2/58.csv'],1,0);
data{52} = csvread(['data/pair-2/59.csv'],1,0);
data{53} = csvread(['data/pair-2/60.csv'],1,0);
data{54} = csvread(['data/pair-2/61.csv'],1,0);
data{55} = csvread(['data/pair-2/62.csv'],1,0);
data{56} = csvread(['data/pair-2/63.csv'],1,0);
data{57} = csvread(['data/pair-2/64.csv'],1,0);
data{58} = csvread(['data/pair-2/65.csv'],1,0);
data{59} = csvread(['data/pair-2/66.csv'],1,0);
data{60} = csvread(['data/pair-2/67.csv'],1,0);
data{61} = csvread(['data/pair-2/68.csv'],1,0);
data{62} = csvread(['data/pair-2/69.csv'],1,0);
data{63} = csvread(['data/pair-2/70.csv'],1,0);
data{64} = csvread(['data/pair-2/71.csv'],1,0);
data{65} = csvread(['data/pair-2/72.csv'],1,0);
data{66} = csvread(['data/pair-2/73.csv'],1,0);
data{67} = csvread(['data/pair-2/74.csv'],1,0);
data{68} = csvread(['data/pair-2/75.csv'],1,0);
data{69} = csvread(['data/pair-2/76.csv'],1,0);
data{70} = csvread(['data/pair-2/77.csv'],1,0);
data{71} = csvread(['data/pair-2/78.csv'],1,0);
data{72} = csvread(['data/pair-2/79.csv'],1,0);
data{73} = csvread(['data/pair-2/80.csv'],1,0);
data{74} = csvread(['data/pair-2/81.csv'],1,0);
data{75} = csvread(['data/pair-2/82.csv'],1,0);
data{76} = csvread(['data/pair-2/83.csv'],1,0);
data{77} = csvread(['data/pair-2/84.csv'],1,0);
data{78} = csvread(['data/pair-2/85.csv'],1,0);
data{79} = csvread(['data/pair-2/86.csv'],1,0);
data{80} = csvread(['data/pair-2/87.csv'],1,0);
data{81} = csvread(['data/pair-2/88.csv'],1,0);
data{82} = csvread(['data/pair-2/89.csv'],1,0);
% data{83} = csvread(['data/pair-2/90.csv'],1,0);
% data{84} = csvread(['data/pair-2/91.csv'],1,0);
% data{85} = csvread(['data/pair-2/92.csv'],1,0);
% data{86} = csvread(['data/pair-2/93.csv'],1,0);
% data{87} = csvread(['data/pair-2/94.csv'],1,0);
% data{88} = csvread(['data/pair-2/95.csv'],1,0);


%%

clear Data

Folder = 'data/IST/2/';
DirList = dir(fullfile(Folder, '*.mat'));
Data = cell(1, length(DirList));
for k = 1:length(DirList)
  Data{k} = load(fullfile(Folder, DirList(k).name));
  Data{k} = Data{k}.data;
end

%% 
[time] = deal([]);
for i = 1:length(data)
    
    time = [time; data{i}(:,2)];
    
end

%% 

clear head;

for i = 1:length(Data)
    
    val_found = ismembertol(time, Data{i}(:,1), 0.00001);
    timestamps = find(val_found == 1);
    
    timestampsi = timestamps(1);
    id = fix(timestampsi/1000);
    
    timestamps_norm = timestamps - id*1000;
    if find(timestamps_norm > 1000)
        index = find(timestamps_norm > 1000);
        vec = [];
        vec = [vec, data{id}(timestamps_norm(1:index(1)-1),2), data{id}(timestamps_norm(1:index(1)-1),3:9)];
        vec = [vec; [data{id+1}(timestamps_norm(index(1):end)-1000,2), data{id+1}(timestamps_norm(index(1):end)-1000,3:9)]];
    else
        vec = [];
        vec = [vec,[data{id}(timestamps_norm,2), data{id}(timestamps_norm,3:9)]]; 
    end
    head{i} = vec;
end




